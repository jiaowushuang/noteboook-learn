
- 体系结构是程序员眼中的计算机，由指令集（汇编语言）和操作数地址（寄存器和存储器）来定义。
- 指令包含 操作和操作数，其中操作数取自存储器、寄存器以及指令自身{即：常数}
- 硬件只能理解二进制信息，故指令需要编码为二进制数，称为机器语言
- 微处理器是一个可以读并执行机器语言指令的数字系统
- 不同体系结构的指令集像方言。因为基本指令{加法、减法、跳转、对存储器和寄存器的操作}在不同体系结构中都有定义。
- 体系结构都有不同的硬件实现{寄存器、存储器、ALU和其他模块组成微处理器的特定方式 称为微体系结构}

MIPS体系结构设计的4个准则：

1. 简单的设计有助于规整化
2. 使常用的功能加速
3. 越小的设计便越快
4. 良好的设计依赖于良好的折中方法

**汇编语言**

指令
{助记符（操作类型） 目的操作数 源操作数} 例如：加法a=b+c;等效于add a,b,c

**简单的设计有助于规整化：**一致的指令格式{除了助记符外，其他基本相同}
**使常用的功能加速：**固定数量的操作数{更复杂的操作可以转化多条MIPS指令} 例如：复杂操作a=b+c-d;等效于sub t,c,d add a,b,t{引入中间变量}因为MIPS指令集仅仅包含一些常用功能的指令，很小{指令操作和操作数的译码硬件复杂度简单、快速}，因而常见的情况会较快执行。

1. RISC：MIPS{例如：CISC字符串移动指令很可能需要上百条RISC的简单指令}
2. CISC：x86-64{例如：CISC实现复杂指令的成本在于增加硬件却降低简单指令的执行速度}

-------------------------------------------------------------------------

操作数
{寄存器、存储器、常数}：使用不同的位置存放操作数 可以优化性能和存储容量；速度：常数/寄存器 > 存储器；容量：常数/寄存器 < 存储器
**计算机只能处理二进制数，不可处理变量名；因此，指令需要从一个物理地址中取出二进制数据{操作数}。**

寄存器：用于存放 常用操作数；MIPS定义32个寄存器，称为寄存器文件。其中使用18个寄存器 存储变量{$s0~$s7和$t0~$t9}。

	1. 以$s开始的寄存器称为 保存寄存器{存储诸如a,b,c这类变量 或是 用于函数调用}
	2. 以$t开始的寄存器称为 临时寄存器{存储诸如t这类的中间变量}
	
![](http://i.imgur.com/T2xe7dx.jpg)

**越小的设计便越快：**寄存器越少访问、越少数量、速度越快。而且小寄存器文件往往使用小SRAM阵列{意味着使用小译码器、位线连接到相对少的存储单元}，进而拥有更短的关键路径。
例如：加法a=b+c;等效于add $s0,$s1,$s2{a,b,c} / 复杂操作a=b+c-d;sub $t0,$s2,$s3 add $s0,$s1,$t0

存储器：数据字的阵列{这里采用32位地址和32位数据字长}

	1. MIPS采用 字节寻址存储器{存储器的每一字节都对应一个地址，由于32位字包含4个字节，所以每一个字地址都是4的倍数}
	2. X86 采用 字寻址存储器{存储器的每一字都对应一个地址}。

	MIPS指令

	1. lw装入字指令将存储器的字数据装入到寄存器中;lw $s3,8($0)
	2. sw存储字指令从寄存器向存储器写数据字;lw $s7,4($0)
	3. lb和sb指令用来装入和存储字节
	4. 字节存储器的组织方式有大端、小端两种：两种格式的字地址相同，但是不同的是字节地址{从MSB到LSB，大端是地址增加；小端是地址减小}。不同端的计算机在共享数据时有点麻烦。
	5. 指定内存有效地址： 基地址与偏移量的和{基地址为任何寄存器，写在括号内；偏移量是一个常数，写在括号前，可以使十进制或十六进制}。
	6. 字对齐：lw和sw的字地址必须能够被4整除；当然lb和sb的字节地址是不需要字对齐的。

常数/立即数：因为常数值可以被指令立即访问，而不需要通过访问寄存器或存储器来得到，故称为立即数。

	MIPS指令

	1. addi是一个以立即数为操作数的命令{将立即数与寄存器的值相加} 例如：a=a+4;等效于addi $s0,$s0,4
	2. 指令中的立即数采用16位补码形式。为简单起见，MIPS体系没有subi指令

**良好的设计依赖于良好的折中方法：**由于add和sub指令使用3个寄存器操作数，而lw和sw使用2个寄存器操作数和1个常数。指令格式的不同使得lw和sw违反**简单的设计有助于规整化**的原则，但是如上。单指令格式可能简洁，但是缺乏弹性。

	指令格式{汇编语言}

	1. 3个寄存器操作数
	2. 2个寄存器操作数和1个16位立即数
	3. 1个26位立即数，但没有寄存器操作数

-----------------------------------------------------------------------------------------------
	
**机器语言**

**简单的设计有助于规整化：**将所有指令 编码为存储器中的字{32位}，变长指令将增加更多的复杂性；当然也应使用单指令格式，但是过于简单也有太多限制。

	指令格式{机器语言}（一一对应）

	1. R类型
	2. I类型
	3. J类型 







