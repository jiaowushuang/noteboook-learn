
SD3．0标准与原来相比，增加了UHS．I模式和DMA模式，可以支持SDXC卡。

本文从SD卡控制器总体结构入手，简要介绍了SD3．0新标准下各模块功能：

1、根据改进内容，主要设计了时钟模块，Tuning模块和DMA模块三个模块。

2、在时钟模块中主要利用FPGA特有资源DCM，可动态提供25MHz~160MHz不同的工作频率。不仅为SD卡控制器提供了稳定的时钟同时还提供了灵活的频率配置。

3、为了使SD卡工作在高频时能满足时序要求和正确采样到数据，通过在Tuning模块提出最佳采样时钟选择算法，合理设计状态机，对时钟相位进行调整，得到SD卡工作在高频时的最佳采样时钟。

该模块通过功能仿真及FPGA逻辑综合，达到设计要求，也保证了数据传输的可靠性。

4、DMA模块打破了SD卡与PC机进行通信的传统传送方式，不通过CPU的处理，直接在外设及内存中进行通信。

5、在逻辑设计中，重点设计双口RAM及RAM控制部分，把读写过程细化，完成SD卡在DMA模式下的传输。

最后对整体SD卡控制器进行FPGA验证（功能仿真、逻辑综合）：

先从电源、配置、下载的角度介绍了开发板的设计，然后根据验证场景对其进行验证，特别对SDXC卡在高速模式下进行了读写速率及工作频率的测试，也与普通SD卡和U盘读卡器进行了性能对比，得出验证结果。本控制器特别实现了SDXC卡在高频时的工作情况。将原来普通SD卡工作频率为25MHz或者50MHz，读写速度不超过25MB／S，15MB／S，提高到工作频率为160MHz，读写速度约为60MB／S，35MB／S。